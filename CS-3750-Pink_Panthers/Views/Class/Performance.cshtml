@model Pink_Panthers_Project.Models.ViewModel

@{
	ViewData["Title"] = "Course";
}


<head>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function () {

			var gradesArray = @Html.Raw(Json.Serialize(Model!.StudentSubmissions));
			var max = @Model.MaxGrade;
			console.log(gradesArray);
			var xArray = ['A', 'A-', 'B+', 'B', 'B-', 'C+', 'C', 'C-', 'D+', 'D', 'D-', 'E'];

			var data = [{
				type: 'bar',
				x: xArray,
				y: gradesArray,
				marker: {
					color: ['rgba(0,255,0,1)', 'rgba(0,255,0,1)', 'rgba(0,200,55,1)', 'rgba(0,100,155,1)', 'rgba(0,0,255,1)',
						'rgba(50,0,205,1)', 'rgba(100,0,155,1)', 'rgba(150,0,150,1)', 'rgba(255,0,0,1)', 'rgba(255,0,0,1)',
						'rgba(255,0,0,1)', 'rgba(255,0,0,1)']
				},
				boxpoints: 'false',
				line: {
					color: '#a64d79'
				},
				hoverinfo: 'x'
			}];
			var layout = {
				title: 'Class Performance',
				yaxis: {
					zeroline: false,
					range: [0, 20]
				}
			};

			Plotly.newPlot('performance', data, layout);
		});
	</script>


</head>
<div class="container">

	<h2>@Model.AssignmentName</h2>
	@if (Model!.StudentSubmissions!.Count != 0)
	{
		<div class="row mt-3">
			<div id="performance" />
		</div>
	}
</div>